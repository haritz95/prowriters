import{T as k}from"./Table.afdff20f.js";import{_ as w,c as a,a as i,b as t,F as _,r as m,t as e,y as d,f as u,o as l,H as x,n as N,d as p,h as v}from"./app.4060d334.js";import"./Pagination.484cfb51.js";import"./bootstrap.esm.c86673ca.js";const C={components:{Table:k},props:["data"],created(){this.getStatistics()},data(){return{statistics:[{name:"tasks_in_progress",title:this.__("Tasks in progress"),bg_color:"#ffcccc",data:null,icon:"fas fa-tasks"},{name:"tasks_require_revision",title:this.__("Tasks require revision"),bg_color:"#ccffcc",data:null,icon:"fas fa-exclamation-circle"},{name:"billable_amount",title:this.__("Billable Amount"),bg_color:"#ccccff",data:null,icon:"fas fa-file-invoice-dollar"},{name:"outstanding_payments",title:this.__("Outstanding Payments"),bg_color:"#ffffcc",data:null,icon:"fas fa-money-check-alt"}],tableOptions:{titles:[{name:this.__("Details"),className:"col-md-3"},{name:this.__("Deadline"),className:"col-md-2"},{name:this.__("Total"),className:"col-md-2 text-end"}]},announcementTableOptions:{titles:[{name:this.__("Number"),className:"col-md-2"},{name:this.__("Title"),className:"col-md-8"}]}}},methods:{getStatistics(){let o=this;axios.post(route("author.dashboard.statistics")).then(function(b){for(let n=0;n<o.statistics.length;n++){const g=o.statistics[n].name;o.statistics[n].data=b.data[g]}})}}},S={class:"container page-container"},D={class:"row mt-2"},O={class:"d-flex bg-light p-3"},q={class:"flex-shrink-0 align-middle statistics-box"},A={class:"flex-grow-1 ms-2"},B={class:"text-uppercase fs-9 lh-sm"},V={class:"fs-6 lh-1 fw-bold mt-2"},H={key:0,class:"fas fa-spinner fa-spin"},L=["textContent"],P={class:"row mt-4"},z={class:"col-md-12 mb-4"},F={class:"border rounded-3 p-3 mb-4 h-100"},M={class:"float-none w-auto px-3 fs-6"},E={class:"col-md-6"},j={class:"border rounded-3 p-3 mb-4 h-100"},G={class:"float-none w-auto px-3 fs-6"},I={colspan:"3",class:"border"},J={class:"w-100"},K={class:"col-md-3"},Q={class:"text-muted"},R={class:"col-md-2"},U={class:"col-md-2 text-end"},W={key:0,class:"mt-2 mb-2"},X={colspan:"4"},Y={class:"task-list-title mt-3 mb-2"},Z={class:"col-md-6"},$={class:"border rounded-3 p-3 mb-4 h-100"},tt={class:"float-none w-auto px-3 fs-6"},st={colspan:"3",class:"border"},et={class:"w-100"},ot={class:"col-md-3"},at={class:"text-muted"},lt={class:"col-md-2"},nt={class:"col-md-2 text-end"},it={key:0,class:"mt-2 mb-2"},ct={colspan:"4"},dt={class:"task-list-title mt-3 mb-2"};function _t(o,b,n,g,r,rt){const y=u("AppHead"),T=u("PageTitle"),h=u("Link"),f=u("Table");return l(),a(_,null,[i(y,{title:n.data.title},null,8,["title"]),t("div",S,[i(T,{title:n.data.title},null,8,["title"]),t("div",D,[(l(!0),a(_,null,m(r.statistics,(s,c)=>(l(),a("div",{class:"col-md-3 mb-2 mb-md-0",key:c},[t("div",O,[t("div",q,[t("div",{style:x({backgroundColor:s.bg_color})},[t("i",{class:N(["align-middle",s.icon])},null,2)],4)]),t("div",A,[t("div",B,e(s.title),1),t("div",V,[s.data?(l(),a("span",{key:1,textContent:e(s.data.value)},null,8,L)):(l(),a("i",H))])])])]))),128))]),t("div",P,[t("div",z,[t("fieldset",F,[t("legend",M,e(o.__("Announcements")),1),i(f,{options:r.announcementTableOptions,tableStyle:"table-striped"},{default:d(()=>[(l(!0),a(_,null,m(n.data.announcements,(s,c)=>(l(),a("tr",{key:c},[t("td",null,[i(h,{href:o.route("author.announcements.show",s.uuid)},{default:d(()=>[p(e(s.number),1)]),_:2},1032,["href"])]),t("td",null,e(s.title),1)]))),128))]),_:1},8,["options"])])]),t("div",E,[t("fieldset",j,[t("legend",G,e(o.__("Tasks in progress")),1),i(f,{options:r.tableOptions,tableStyle:"table-striped"},{default:d(()=>[(l(!0),a(_,null,m(n.data.tasks_in_progress,(s,c)=>(l(),a("tr",{class:"mb-2",key:c},[t("td",I,[t("table",J,[t("tr",null,[t("td",K,[i(h,{href:o.route("author.tasks.show",s.uuid)},{default:d(()=>[p(e(s.number),1)]),_:2},1032,["href"]),t("div",null,[t("small",Q,e(s.service.name),1)])]),t("td",R,e(o.localDate(s.dead_line_for_author)),1),t("td",U,e(o.formatMoney(s.author_payment_amount)),1)]),s.title?(l(),a("tr",W,[t("td",X,[t("div",Y,e(o.__("Title"))+" : "+e(s.title),1)])])):v("",!0)])])]))),128))]),_:1},8,["options"])])]),t("div",Z,[t("fieldset",$,[t("legend",tt,e(o.__("Tasks requires revision")),1),i(f,{options:r.tableOptions,tableStyle:"table-striped"},{default:d(()=>[(l(!0),a(_,null,m(n.data.tasks_requires_revision,(s,c)=>(l(),a("tr",{class:"mb-2",key:c},[t("td",st,[t("table",et,[t("tr",null,[t("td",ot,[i(h,{href:o.route("author.tasks.show",s.uuid)},{default:d(()=>[p(e(s.number),1)]),_:2},1032,["href"]),t("div",null,[t("small",at,e(s.service.name),1)])]),t("td",lt,e(o.localDate(s.dead_line_for_author)),1),t("td",nt,e(o.formatMoney(s.author_payment_amount)),1)]),s.title?(l(),a("tr",it,[t("td",ct,[t("div",dt,e(o.__("Title"))+" : "+e(s.title),1)])])):v("",!0)])])]))),128))]),_:1},8,["options"])])])])])],64)}const pt=w(C,[["render",_t]]);export{pt as default};
