import{P as C}from"./Pagination.484cfb51.js";import{_ as A,c,a as i,y as d,F as p,f as s,o as l,d as y,t as u,g as x,h as f,b as r,r as B}from"./app.4060d334.js";import{T as S}from"./TextArea.c22bdae9.js";import"./InputSpinner.vue_vue_type_style_index_0_scoped_f3ddc209_lang.9416471f.js";import{S as F}from"./SearchBar.fdc86cb9.js";import M from"./ManageContentLayout.2cbbcbed.js";import"./bootstrap.esm.c86673ca.js";import"./debounce.b911da70.js";const N={props:["data","filters","content_language","texts"],components:{ManageContentLayout:M,Pagination:C,TextArea:S,SearchBar:F},watch:{"texts.data"(e){this.form.fields=this.prepareForm()}},data(){return{form:this.$inertia.form({fields:this.prepareForm()})}},methods:{saveTranslation(e,a,t){let m=this,n=m.$refs["element"+e][0];n.innerHTML=m.__("saving ..."),axios.post(route("admin.manage.content.systemTranslations.update",this.content_language),{key:a,value:t}).then(function(g){n.innerHTML=m.__("saved at")+" "+new Date().toLocaleTimeString(),n.style.display="block",setTimeout(()=>n.style.display="none",5e3)})},prepareForm(){let e={};for(let a=0;a<this.texts.data.length;a++){const t=this.texts.data[a];e[t.key]=t.translated_text}return e}}},H={class:"text-danger mt-4 mb-4"},P={class:"mb-2 border-bottom pb-2 pt-2"},D={key:1,class:"text-center"};function w(e,a,t,m,n,g){const T=s("AppHead"),h=s("Link"),k=s("SearchBar"),b=s("TextArea"),v=s("Pagination"),L=s("ManageContentLayout");return l(),c(p,null,[i(T,{title:t.data.title},null,8,["title"]),i(L,{content_language:t.content_language},{default:d(()=>[i(k,{url:e.route("admin.manage.content.systemTranslations.index",t.content_language),filters:t.filters.filters,hide_inactive_search:!0},{leftArea:d(()=>[i(h,{href:e.route("admin.manage.content.systemTranslations.importTranslationTexts",t.content_language),class:"btn btn-sm btn-success me-2"},{default:d(()=>[y(u(e.__("Import Translation Keys")),1)]),_:1},8,["href"]),t.texts.total?(l(),x(h,{key:0,href:e.route("admin.manage.content.systemTranslations.applyTranslation",t.content_language),class:"btn btn-sm btn-primary"},{default:d(()=>[y(u(e.__("Apply Translation")),1)]),_:1},8,["href"])):f("",!0)]),_:1},8,["url","filters"]),r("div",H,[r("small",null," *** "+u(e.__('Do not translate the words starting with ":" semicolon')),1)]),(l(!0),c(p,null,B(t.texts.data,(o,V)=>(l(),c("div",{key:V},[r("div",P,[r("div",null,[i(b,{label:o.text,modelValue:n.form.fields[o.key],"onUpdate:modelValue":_=>n.form.fields[o.key]=_,onChange:_=>g.saveTranslation(o.id,o.key,_.target.value)},null,8,["label","modelValue","onUpdate:modelValue","onChange"]),r("div",null,[r("small",{class:"text-muted",ref_for:!0,ref:"element"+o.id},null,512)])])])]))),128)),t.texts.total>0?(l(),x(v,{key:0,total:t.texts.total,links:t.texts.links},null,8,["total","links"])):f("",!0),t.texts.total==0?(l(),c("div",D,u(e.__("No record found")),1)):f("",!0)]),_:1},8,["content_language"])],64)}const J=A(N,[["render",w]]);export{J as default};
