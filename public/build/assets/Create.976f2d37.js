import{I as V}from"./Input.47b7b4a9.js";import{_ as A,c as S,a as i,b as r,y as m,w as x,F as C,f as l,o as w,d as B,t as E}from"./app.4060d334.js";import{S as U}from"./SubmitButton.94bb04f8.js";import{b as y}from"./InputSpinner.vue_vue_type_style_index_0_scoped_f3ddc209_lang.9416471f.js";import{E as j}from"./Editor.f8a2bb8c.js";import{A as k}from"./Attachment.a35ebc48.js";import"./bootstrap.esm.c86673ca.js";import"./debounce.b911da70.js";import"./vue-quill.snow.151e10a0.js";const T={components:{SearchAllUser:y,Attachment:k,Input:V,SubmitButton:U,Editor:j},props:["data"],data(){return{form:this.$inertia.form(this.prepareForm()),formConfig:{onSuccess:()=>this.form.reset()}}},methods:{prepareForm(){return{recipient_id:null,participants:null,subject:null,body:null,files:null}},handleAttachment(t){this.form.files=t}}},v={class:"container page-container"},F=r("i",{class:"fa-solid fa-arrow-left-long"},null,-1);function I(t,o,n,q,e,u){const d=l("AppHead"),f=l("Link"),_=l("PageTitle"),s=l("SearchAllUser"),p=l("Input"),c=l("Editor"),b=l("Attachment"),g=l("ValidationError"),h=l("SubmitButton");return w(),S(C,null,[i(d,{title:n.data.title},null,8,["title"]),r("div",v,[i(_,{title:n.data.title},{default:m(()=>[i(f,{class:"btn btn-sm btn-light",href:t.route("admin.messageThreads.index")},{default:m(()=>[F,B(" "+E(t.__("Back to Messages")),1)]),_:1},8,["href"])]),_:1},8,["title"]),r("form",{onSubmit:o[4]||(o[4]=x(a=>e.form.post(t.route("admin.messageThreads.store"),e.formConfig),["prevent"]))},[i(s,{options:n.data.recipients,modelValue:e.form.recipient_id,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.recipient_id=a),label:t.__("Recipient"),name:"recipient_id",required:!0,multiple:!1},null,8,["options","modelValue","label"]),i(s,{options:n.data.participants,modelValue:e.form.participants,"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.participants=a),label:t.__("Participants")+" / "+t.__("CC"),name:"participants",multiple:!0},null,8,["options","modelValue","label"]),i(p,{modelValue:e.form.subject,"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.subject=a),label:t.__("Subject"),name:"subject",required:!0},null,8,["modelValue","label"]),i(c,{modelValue:e.form.body,"onUpdate:modelValue":o[3]||(o[3]=a=>e.form.body=a),label:t.__("Message"),name:"body",required:!0},null,8,["modelValue","label"]),i(b,{onOnChange:u.handleAttachment,upload_attachment_url:n.data.config.urls.upload_attachment,allowed_file_extensions:n.data.config.allowed_file_extensions,maximum_number_of_files_to_upload:n.data.config.maximum_number_of_files_to_upload,maximum_file_size:n.data.config.maximum_file_size,existing_files:n.data.config.existing_files,config:n.data.config},null,8,["onOnChange","upload_attachment_url","allowed_file_extensions","maximum_number_of_files_to_upload","maximum_file_size","existing_files","config"]),i(g,{name:"files"}),i(h,{disabled:e.form.processing},null,8,["disabled"])],32)])],64)}const G=A(T,[["render",I]]);export{G as default};
