import{D as y}from"./DestroyButton.67b6d41c.js";import{I as g}from"./Input.47b7b4a9.js";import{_ as V,g as N,y as p,f as c,o as _,b as e,t as m,c as f,r as F,a as i,F as C}from"./app.4060d334.js";import{S as k}from"./Select.3a870b54.js";import{S}from"./SubmitButton.94bb04f8.js";import"./InputSpinner.vue_vue_type_style_index_0_scoped_f3ddc209_lang.9416471f.js";import"./bootstrap.esm.c86673ca.js";import"./debounce.b911da70.js";const U={components:{Input:g,DestroyButton:y,Select:k,SubmitButton:S},props:["data"],data(){return{form:this.$inertia.form(this.prepareForm()),formConfig:{}}},methods:{submitForm(){this.form.post(this.data.urls.submit_form,this.formConfig)},prepareForm(){return{units:this.data.units?this.data.units:[]}},addNewLine(){this.form.units.push({id:null,name:"",urgency_id:"",price:0,quantity:0})},removeLine(t){this.form.units.splice(t,1)},getErrorFieldName(t,r){return"units."+[r]+"."+t},restrictEmpty(t,r){const a=this.form.units[r][t];(!a||a=="")&&(this.form.units[r][t]=0)}}},v={class:"table table-sm",id:"unitPrice"},E={class:"table-secondary"},w={class:"col-md-3"},B={class:"col-md-3"},L={class:"col-md-2"},q={class:"col-md-3"},I=e("th",{class:"col-md-1"},null,-1),K={class:"text-end"},D=["onClick"],M=e("i",{class:"fa-solid fa-trash-can"},null,-1),P=[M],T=["disabled"];function z(t,r,a,A,s,l){const d=c("Input"),b=c("Select"),h=c("Modal");return _(),N(h,{title:a.data.title,size:"full_screen"},{footer:p(()=>[e("button",{type:"button",onClick:r[0]||(r[0]=(...u)=>l.addNewLine&&l.addNewLine(...u)),class:"btn btn-sm btn-success"},m(t.__("Add new line")),1),e("button",{onClick:r[1]||(r[1]=(...u)=>l.submitForm&&l.submitForm(...u)),disabled:s.form.processing,type:"submit",class:"btn btn-sm btn-primary"},m(t.__("Submit")),9,T)]),default:p(()=>[e("table",v,[e("thead",E,[e("tr",null,[e("th",w,m(t.__("Name")),1),e("th",B,m(t.__("Quantity")),1),e("th",L,m(t.__("Price")),1),e("th",q,m(t.__("Turnaround Time")),1),I])]),e("tbody",null,[(_(!0),f(C,null,F(s.form.units,(u,o)=>(_(),f("tr",{key:o},[e("td",null,[i(d,{modelValue:s.form.units[o].name,"onUpdate:modelValue":n=>s.form.units[o].name=n,name:l.getErrorFieldName("name",o)},null,8,["modelValue","onUpdate:modelValue","name"])]),e("td",null,[i(d,{modelValue:s.form.units[o].quantity,"onUpdate:modelValue":n=>s.form.units[o].quantity=n,name:l.getErrorFieldName("quantity",o),onKeypress:n=>t.onlyNumber(n,s.form.units[o].quantity)},null,8,["modelValue","onUpdate:modelValue","name","onKeypress"])]),e("td",null,[i(d,{modelValue:s.form.units[o].price,"onUpdate:modelValue":n=>s.form.units[o].price=n,name:l.getErrorFieldName("price",o),onKeypress:n=>t.onlyNumber(n,s.form.units[o].price)},null,8,["modelValue","onUpdate:modelValue","name","onKeypress"])]),e("td",null,[i(b,{searchable:!0,options:a.data.dropdowns.urgencies,modelValue:s.form.units[o].urgency_id,"onUpdate:modelValue":n=>s.form.units[o].urgency_id=n,name:l.getErrorFieldName("urgency_id",o)},null,8,["options","modelValue","onUpdate:modelValue","name"])]),e("td",K,[e("button",{type:"button",onClick:n=>l.removeLine(o),class:"btn btn-sm btn-danger"},P,8,D)])]))),128))])])]),_:1},8,["title"])}const X=V(U,[["render",z]]);export{X as default};
