import{I as p}from"./Input.47b7b4a9.js";import{_ as f,g as _,y as b,f as i,o as y,b as u,a as s,t as m,w as h}from"./app.4060d334.js";import{S as v}from"./SubmitButton.94bb04f8.js";import"./InputSpinner.vue_vue_type_style_index_0_scoped_f3ddc209_lang.9416471f.js";import"./bootstrap.esm.c86673ca.js";import"./debounce.b911da70.js";const V={components:{Input:p,SubmitButton:v},props:["data","existing_record"],watch:{"form.total":{handler(e,o){this.calculateAuthorPayment(e)},deep:!0}},data(){return{form:this.$inertia.form(this.prepareForm()),formConfig:{preserveScroll:!1},author_payment_amount:0}},methods:{prepareForm(){let e={total:null,duration_days:null,number_of_revisions:null};return this.existing_record&&(e={...e,...this.existing_record}),e},calculateAuthorPayment(e){e=parseFloat(e);let o=parseFloat(this.data.platform_commission_rate),n=e*o/100;this.author_payment_amount=e-n}}},g={class:"mb-2"},c={class:"text-success"};function B(e,o,n,N,t,S){const l=i("Input"),a=i("SubmitButton"),d=i("Modal");return y(),_(d,{title:n.data.title},{default:b(()=>[u("form",{onSubmit:o[6]||(o[6]=h(r=>n.existing_record?t.form.patch(e.route("author.bids.update",n.existing_record.uuid)):t.form.post(e.route("author.bidRequests.bids.store",n.data.bidRequest_uuid)),["prevent"]))},[s(l,{modelValue:t.form.total,"onUpdate:modelValue":o[0]||(o[0]=r=>t.form.total=r),name:"total",label:e.__("Bidding Amount"),required:!0,onKeypress:o[1]||(o[1]=r=>e.onlyNumber(r,t.form.total)),tooltip:e.__("The final amount that will be charged to the customer")},null,8,["modelValue","label","tooltip"]),u("div",g,[u("small",c,m(e.__("You will receive"))+" "+m(e.formatMoney(t.author_payment_amount)),1)]),s(l,{modelValue:t.form.duration_days,"onUpdate:modelValue":o[2]||(o[2]=r=>t.form.duration_days=r),name:"duration_days",label:e.__("Number of days to complete"),required:!0,onKeypress:o[3]||(o[3]=r=>e.onlyNumber(r,t.form.duration_days))},null,8,["modelValue","label"]),s(l,{modelValue:t.form.number_of_revisions,"onUpdate:modelValue":o[4]||(o[4]=r=>t.form.number_of_revisions=r),name:"number_of_revisions",label:e.__("Number of revisions"),required:!0,onKeypress:o[5]||(o[5]=r=>e.onlyNumber(r,t.form.number_of_revisions))},null,8,["modelValue","label"]),s(a,{disabled:t.form.processing},null,8,["disabled"])],32)]),_:1},8,["title"])}const A=f(V,[["render",B]]);export{A as default};
