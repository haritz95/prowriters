import A from"./Search.0b1444b5.js";import{T as B}from"./Table.afdff20f.js";import{_ as L,c as a,a as d,b as t,y as c,F as m,r as b,h as u,f as r,o as l,d as n,t as s,H as y,g as D}from"./app.4060d334.js";import"./Input.47b7b4a9.js";import"./CheckBox.949c07b7.js";import"./Select.3a870b54.js";import"./InputSpinner.vue_vue_type_style_index_0_scoped_f3ddc209_lang.9416471f.js";import"./debounce.b911da70.js";import"./DateRangePicker.6ca75690.js";import"./Pagination.484cfb51.js";import"./bootstrap.esm.c86673ca.js";const H={components:{Search:A,Table:B},props:["data","tasks","filters"],data(){return{showStatistics:!1,tableOptions:{titles:[{name:this.__("Details"),className:"col-md-3"},{name:this.__("Status"),className:"col-md-2"},{name:this.__("Deadline"),className:"col-md-2"},{name:this.__("Author"),className:"col-md-3"},{name:this.__("Total"),className:"col-md-2 text-end"}]}}},methods:{toggleStatistics(){this.showStatistics=!this.showStatistics}}},V={class:"container page-container"},z=t("i",{class:"fa-regular fa-calendar"},null,-1),F=t("i",{class:"fa-solid fa-chart-column"},null,-1),I={key:0},O={key:1},P={key:0},E={class:"shadow bg-white rounded text-center p-1"},M={class:"mt-2"},j={class:"row mt-4"},q={class:"col-md-3"},G={class:"col-md-9"},J={colspan:"5",class:"border"},K={class:"w-100"},Q={class:"col-md-3"},R={class:"text-muted fw-bold"},U={key:0},W={class:"text-muted"},X={class:"text-danger"},Y={key:1,class:"badge bg-danger"},Z={class:"col-md-2"},x={class:"col-md-2"},$={class:"col-md-3"},tt={key:1},et={class:"text-muted"},st={key:0},ot={key:1},lt={class:"col-md-2 text-end"},at={key:0,class:"mt-2 mb-2"},nt={colspan:"4"},it={class:"task-list-title mt-3 mb-2"};function dt(o,v,i,ct,h,g){const S=r("AppHead"),_=r("Link"),w=r("AddButton"),k=r("PageTitle"),N=r("Search"),T=r("Table");return l(),a(m,null,[d(S,{title:i.data.title},null,8,["title"]),t("div",V,[d(k,{title:i.data.title},{default:c(()=>[d(_,{class:"btn btn-sm btn-light me-2",href:o.route("admin.calendar")},{default:c(()=>[z,n(" "+s(o.__("Calendar")),1)]),_:1},8,["href"]),t("button",{onClick:v[0]||(v[0]=(...e)=>g.toggleStatistics&&g.toggleStatistics(...e)),type:"button",class:"btn btn-sm btn-light me-2"},[F,n("\xA0 "),h.showStatistics?(l(),a("span",I,s(o.__("Hide")),1)):(l(),a("span",O,s(o.__("Show")),1)),n(" \xA0"),t("span",null,s(o.__("Statistics")),1)]),d(w,{href:o.route("admin.tasks.chooseService")},null,8,["href"])]),_:1},8,["title"]),h.showStatistics?(l(),a("div",P,[(l(!0),a(m,null,b(i.data.statistics,(e,f)=>(l(),a("div",{class:"row mb-4",key:f},[(l(!0),a(m,null,b(e,(p,C)=>(l(),a("div",{class:"col-md-2 col-sm-6",key:C},[t("div",E,[t("div",M,s(p.value),1),t("span",{style:y([{"font-size":"12px"},{color:p.color}])},s(p.name),5)])]))),128))]))),128))])):u("",!0),t("div",j,[t("div",q,[d(N,{data:i.data,filters:i.filters.filters,only:["tasks","filters"]},null,8,["data","filters"])]),t("div",G,[d(T,{options:h.tableOptions,links:i.tasks.links,total:i.tasks.total,tableStyle:"table-striped table-hover"},{default:c(()=>[(l(!0),a(m,null,b(i.tasks.data,(e,f)=>(l(),a("tr",{class:"mb-2 border-bottom",key:f},[t("td",J,[t("table",K,[t("tr",null,[t("td",Q,[d(_,{href:o.route("admin.tasks.show",e.uuid)},{default:c(()=>[n(s(e.number),1)]),_:2},1032,["href"]),t("div",null,[t("small",R,s(e.service.name),1)]),e.service_level?(l(),a("div",U,[t("small",W,[n(s(o.__("Service Level"))+" : ",1),t("span",X,s(e.service_level.name),1)])])):u("",!0),t("div",null,[t("small",null,[n(s(o.__("Customer"))+" : ",1),d(_,{href:o.route("admin.customers.show",e.customer.uuid)},{default:c(()=>[n(s(e.customer.full_name),1)]),_:2},1032,["href"])])]),e.invoice_id?u("",!0):(l(),a("span",Y,s(o.__("Not Invoiced")),1))]),t("td",Z,[t("span",{class:"badge rounded-pill",style:y({backgroundColor:e.status.bg_color,color:e.status.color})},s(e.status.name),5)]),t("td",x,s(o.localDate(e.dead_line)),1),t("td",$,[e.author?(l(),D(_,{key:0,href:o.route("admin.authors.show",e.author.uuid)},{default:c(()=>[n(s(e.author.full_name),1)]),_:2},1032,["href"])):(l(),a("span",tt,s(o.__("Not assigned")),1)),t("div",null,[t("small",et,[n(s(o.__("Level"))+" : ",1),e.author_level?(l(),a("span",st,s(e.author_level.name),1)):(l(),a("span",ot,s(o.__("N/A")),1))])])]),t("td",lt,s(o.formatMoney(e.total)),1)]),e.title?(l(),a("tr",at,[t("td",nt,[t("div",it,s(o.__("Title"))+" : "+s(e.title),1)])])):u("",!0)])])]))),128))]),_:1},8,["options","links","total"])])])])],64)}const St=L(H,[["render",dt]]);export{St as default};
